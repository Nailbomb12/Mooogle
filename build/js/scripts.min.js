"use strict";var theMovieDb={};theMovieDb.common={api_key:"532f680f186ee3009db06b2e2efe9aab",base_uri:"http://api.themoviedb.org/3/",images_uri:"http://image.tmdb.org/t/p/",timeout:1e3,language:"ru-RU",generateQuery:function(e){var o,t,i;if(o=e||{},t="?api_key="+theMovieDb.common.api_key+"&language="+theMovieDb.common.language,Object.keys(o).length>0)for(i in o)o.hasOwnProperty(i)&&"id"!==i&&"body"!==i&&(t=t+"&"+i+"="+o[i]);return t},validateCallbacks:function(e,o){if("function"!=typeof e||"function"!=typeof o)throw"success and error parameters must be functions!"},validateRequired:function(e,o,t,i,n){var a,m;if(m=n||!1,e.length!==o)throw"The method requires  "+o+" arguments and you are sending "+e.length+"!";if(!m&&o>2)for(a=0;a<i.length;a+=1)if(!t.hasOwnProperty(i[a]))throw i[a]+" is a required parameter and is not present in the options!"},getImage:function(e){return theMovieDb.common.images_uri+e.size+"/"+e.file},client:function(e,o,t){var i,n,a;i=e.method||"GET",n=e.status||200,(a=new XMLHttpRequest).ontimeout=function(){t('{"status_code":408,"status_message":"Request timed out"}')},a.open(i,theMovieDb.common.base_uri+e.url,!0),"POST"===e.method&&(a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Accept","application/json")),a.timeout=theMovieDb.common.timeout,a.onload=function(e){4===a.readyState&&a.status===n?o(a.responseText):t(a.responseText)},a.onerror=function(e){t(a.responseText)},"POST"===e.method?a.send(JSON.stringify(e.body)):a.send(null)}},theMovieDb.configurations={getConfiguration:function(e,o){theMovieDb.common.validateRequired(arguments,2),theMovieDb.common.validateCallbacks(e,o),theMovieDb.common.client({url:"configuration"+theMovieDb.common.generateQuery()},e,o)},getCountries:function(e,o){theMovieDb.common.validateRequired(arguments,2),theMovieDb.common.validateCallbacks(e,o),theMovieDb.common.client({url:"configuration/countries"+theMovieDb.common.generateQuery()},e,o)},getJobs:function(e,o){theMovieDb.common.validateRequired(arguments,2),theMovieDb.common.validateCallbacks(e,o),theMovieDb.common.client({url:"configuration/jobs"+theMovieDb.common.generateQuery()},e,o)},getLanguages:function(e,o){theMovieDb.common.validateRequired(arguments,2),theMovieDb.common.validateCallbacks(e,o),theMovieDb.common.client({url:"configuration/languages"+theMovieDb.common.generateQuery()},e,o)},getPrimaryTranslations:function(e,o){theMovieDb.common.validateRequired(arguments,2),theMovieDb.common.validateCallbacks(e,o),theMovieDb.common.client({url:"configuration/primary_translations"+theMovieDb.common.generateQuery()},e,o)},getTimezones:function(e,o){theMovieDb.common.validateRequired(arguments,2),theMovieDb.common.validateCallbacks(e,o),theMovieDb.common.client({url:"configuration/timezones"+theMovieDb.common.generateQuery()},e,o)}},theMovieDb.account={getInformation:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["session_id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"account"+theMovieDb.common.generateQuery(e)},o,t)},getLists:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["session_id","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"account/"+e.id+"/lists"+theMovieDb.common.generateQuery(e)},o,t)},getFavoritesMovies:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["session_id","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"account/"+e.id+"/favorite/movies"+theMovieDb.common.generateQuery(e)},o,t)},getFavoritesTvShows:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["session_id","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"account/"+e.id+"/favorite/tv?"+theMovieDb.common.generateQuery(e)},o,t)},addFavorite:function(e,o,t){var i;theMovieDb.common.validateRequired(arguments,3,e,["session_id","id","media_type","media_id","favorite"]),theMovieDb.common.validateCallbacks(o,t),i={media_type:e.media_type,media_id:e.media_id,favorite:e.favorite},theMovieDb.common.client({url:"account/"+e.id+"/favorite"+theMovieDb.common.generateQuery(e),status:201,method:"POST",body:i},o,t)},getRatedMovies:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["session_id","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"account/"+e.id+"/rated/movies"+theMovieDb.common.generateQuery(e)},o,t)},getRatedTvShows:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["session_id","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"account/"+e.id+"/rated/tv"+theMovieDb.common.generateQuery(e)},o,t)},getRatedTvEpisodes:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["session_id","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"account/"+e.id+"rated/tv/episodes"+theMovieDb.common.generateQuery(e)},o,t)},getMovieWatchlist:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["session_id","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"account/"+e.id+"/watchlist/movies"+theMovieDb.common.generateQuery(e)},o,t)},getTvShowsWatchlist:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["session_id","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"account/"+e.id+"/watchlist/tv"+theMovieDb.common.generateQuery(e)},o,t)},addToWatchlist:function(e,o,t){var i;theMovieDb.common.validateRequired(arguments,3,e,["session_id","id","media_type","media_id","watchlist"]),theMovieDb.common.validateCallbacks(o,t),i={media_type:e.media_type,media_id:e.media_id,watchlist:e.watchlist},theMovieDb.common.client({url:"account/"+e.id+"/watchlist"+theMovieDb.common.generateQuery(e),method:"POST",status:201,body:i},o,t)}},theMovieDb.authentication={generateToken:function(e,o){theMovieDb.common.validateRequired(arguments,2),theMovieDb.common.validateCallbacks(e,o),theMovieDb.common.client({url:"authentication/token/new"+theMovieDb.common.generateQuery()},e,o)},askPermissions:function(e){window.open("https://www.themoviedb.org/authenticate/"+e.token+"?redirect_to="+e.redirect_to)},validateUser:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["request_token","username","password"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"authentication/token/validate_with_login"+theMovieDb.common.generateQuery(e)},o,t)},generateSession:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["request_token"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"authentication/session/new"+theMovieDb.common.generateQuery(e)},o,t)},generateGuestSession:function(e,o){theMovieDb.common.validateRequired(arguments,2),theMovieDb.common.validateCallbacks(e,o),theMovieDb.common.client({url:"authentication/guest_session/new"+theMovieDb.common.generateQuery()},e,o)}},theMovieDb.certifications={getMovieList:function(e,o){theMovieDb.common.validateRequired(arguments,2),theMovieDb.common.validateCallbacks(e,o),theMovieDb.common.client({url:"certification/movie/list"+theMovieDb.common.generateQuery()},e,o)},getTvList:function(e,o){theMovieDb.common.validateRequired(arguments,2),theMovieDb.common.validateCallbacks(e,o),theMovieDb.common.client({url:"certification/tv/list"+theMovieDb.common.generateQuery()},e,o)}},theMovieDb.changes={getMovieChanges:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,"","",!0),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/changes"+theMovieDb.common.generateQuery(e)},o,t)},getPersonChanges:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,"","",!0),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"person/changes"+theMovieDb.common.generateQuery(e)},o,t)},getTvChanges:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,"","",!0),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/changes"+theMovieDb.common.generateQuery(e)},o,t)}},theMovieDb.collections={getDetails:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"collection/"+e.id+theMovieDb.common.generateQuery(e)},o,t)},getImages:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"collection/"+e.id+"/images"+theMovieDb.common.generateQuery(e)},o,t)},getTranslations:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"collection/"+e.id+"/translations"+theMovieDb.common.generateQuery(e)},o,t)}},theMovieDb.companies={getDetails:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"company/"+e.id+theMovieDb.common.generateQuery(e)},o,t)},getAlternativeNames:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"company/"+e.id+"/alternative_names"+theMovieDb.common.generateQuery(e)},o,t)}},theMovieDb.credits={getDetails:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"credit/"+e.id+theMovieDb.common.generateQuery(e)},o,t)}},theMovieDb.discover={getMovies:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,"","",!0),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"discover/movie"+theMovieDb.common.generateQuery(e)},o,t)},getTvShows:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,"","",!0),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"discover/tv"+theMovieDb.common.generateQuery(e)},o,t)}},theMovieDb.find={getById:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id","external_source"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"find/"+e.id+theMovieDb.common.generateQuery(e)},o,t)}},theMovieDb.genres={getMovieList:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,"","",!0),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"genre/movie/list"+theMovieDb.common.generateQuery(e)},o,t)},getMovies:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"genre/"+e.id+"/movies"+theMovieDb.common.generateQuery(e)},o,t)},getTvList:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,"","",!0),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"genre/tv/list"+theMovieDb.common.generateQuery(e)},o,t)}},theMovieDb.guestSession={getRatedMovies:function(e,o){theMovieDb.common.validateRequired(arguments,3,["id"]),theMovieDb.common.validateCallbacks(e,o),theMovieDb.common.client({url:"guest_session/"+options.id+"/rated/movies"+theMovieDb.common.generateQuery()},e,o)},getRatedTvShows:function(e,o){theMovieDb.common.validateRequired(arguments,3,["id"]),theMovieDb.common.validateCallbacks(e,o),theMovieDb.common.client({url:"guest_session/"+options.id+"/rated/tv"+theMovieDb.common.generateQuery()},e,o)},getRatedTvEpisodes:function(e,o){theMovieDb.common.validateRequired(arguments,3,["id"]),theMovieDb.common.validateCallbacks(e,o),theMovieDb.common.client({url:"guest_session/"+options.id+"/rated/tv/episodes"+theMovieDb.common.generateQuery()},e,o)}},theMovieDb.keywords={getById:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"keyword/"+e.id+theMovieDb.common.generateQuery(e)},o,t)},getMovies:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"keyword/"+e.id+"/movies"+theMovieDb.common.generateQuery(e)},o,t)}},theMovieDb.lists={getById:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"list/"+e.id+theMovieDb.common.generateQuery(e)},o,t)},getStatusById:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id","movie_id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"list/"+e.id+"/item_status"+theMovieDb.common.generateQuery(e)},o,t)},addList:function(e,o,t){var i;theMovieDb.common.validateRequired(arguments,3,e,["session_id","name","description"]),theMovieDb.common.validateCallbacks(o,t),i={name:e.name,description:e.description},delete e.name,delete e.description,e.hasOwnProperty("language")&&(i.language=e.language,delete e.language),theMovieDb.common.client({method:"POST",status:201,url:"list"+theMovieDb.common.generateQuery(e),body:i},o,t)},addItem:function(e,o,t){var i;theMovieDb.common.validateRequired(arguments,3,e,["session_id","id","media_id"]),theMovieDb.common.validateCallbacks(o,t),i={media_id:e.media_id},theMovieDb.common.client({method:"POST",status:201,url:"list/"+e.id+"/add_item"+theMovieDb.common.generateQuery(e),body:i},o,t)},removeItem:function(e,o,t){var i;theMovieDb.common.validateRequired(arguments,3,e,["session_id","id","media_id"]),theMovieDb.common.validateCallbacks(o,t),i={media_id:e.media_id},theMovieDb.common.client({method:"POST",status:201,url:"list/"+e.id+"/remove_item"+theMovieDb.common.generateQuery(e),body:i},o,t)},removeList:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["session_id","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({method:"DELETE",status:204,url:"list/"+e.id+theMovieDb.common.generateQuery(e)},o,t)},clearList:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["session_id","id","confirm"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({method:"POST",status:204,body:{},url:"list/"+e.id+"/clear"+theMovieDb.common.generateQuery(e)},o,t)}},theMovieDb.movies={getById:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/"+e.id+theMovieDb.common.generateQuery(e)},o,t)},getAccountStates:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["session_id","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/"+e.id+"/account_states"+theMovieDb.common.generateQuery(e)},o,t)},getAccountStatesGuest:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["guest_session_id","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/"+e.id+"/account_states"+theMovieDb.common.generateQuery(e)},o,t)},getAlternativeTitles:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/"+e.id+"/alternative_titles"+theMovieDb.common.generateQuery(e)},o,t)},getChanges:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/"+e.id+"/changes"+theMovieDb.common.generateQuery(e)},o,t)},getCredits:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/"+e.id+"/credits"+theMovieDb.common.generateQuery(e)},o,t)},getExternalIds:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/"+e.id+"/external_ids"+theMovieDb.common.generateQuery(e)},o,t)},getImages:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/"+e.id+"/images"+theMovieDb.common.generateQuery(e)},o,t)},getKeywords:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/"+e.id+"/keywords"+theMovieDb.common.generateQuery(e)},o,t)},getReleases:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/"+e.id+"/release_dates"+theMovieDb.common.generateQuery(e)},o,t)},getVideos:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/"+e.id+"/videos"+theMovieDb.common.generateQuery(e)},o,t)},getTranslations:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/"+e.id+"/translations"+theMovieDb.common.generateQuery(e)},o,t)},getRecommendations:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/"+e.id+"/recommendations"+theMovieDb.common.generateQuery(e)},o,t)},getSimilarMovies:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/"+e.id+"/similar"+theMovieDb.common.generateQuery(e)},o,t)},getReviews:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/"+e.id+"/reviews"+theMovieDb.common.generateQuery(e)},o,t)},getLists:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/"+e.id+"/lists"+theMovieDb.common.generateQuery(e)},o,t)},getLatest:function(e,o){theMovieDb.common.validateRequired(arguments,2),theMovieDb.common.validateCallbacks(e,o),theMovieDb.common.client({url:"movie/latest"+theMovieDb.common.generateQuery()},e,o)},getUpcoming:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,"","",!0),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/upcoming"+theMovieDb.common.generateQuery(e)},o,t)},getNowPlaying:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,"","",!0),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/now_playing"+theMovieDb.common.generateQuery(e)},o,t)},getPopular:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,"","",!0),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/popular"+theMovieDb.common.generateQuery(e)},o,t)},getTopRated:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,"","",!0),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"movie/top_rated"+theMovieDb.common.generateQuery(e)},o,t)},rate:function(e,o,t,i){theMovieDb.common.validateRequired(arguments,4,e,["session_id","id"]),theMovieDb.common.validateCallbacks(t,i),theMovieDb.common.client({method:"POST",status:201,url:"movie/"+e.id+"/rating"+theMovieDb.common.generateQuery(e),body:{value:o}},t,i)},rateGuest:function(e,o,t,i){theMovieDb.common.validateRequired(arguments,4,e,["guest_session_id","id"]),theMovieDb.common.validateCallbacks(t,i),theMovieDb.common.client({method:"POST",status:201,url:"movie/"+e.id+"/rating"+theMovieDb.common.generateQuery(e),body:{value:o}},t,i)},removeRate:function(e,o,t,i){theMovieDb.common.validateRequired(arguments,4,e,["session_id","id"]),theMovieDb.common.validateCallbacks(t,i),theMovieDb.common.client({method:"DELETE",status:200,url:"movie/"+e.id+"/rating"+theMovieDb.common.generateQuery(e)},t,i)},removeRateGuest:function(e,o,t,i){theMovieDb.common.validateRequired(arguments,4,e,["guest_session_id","id"]),theMovieDb.common.validateCallbacks(t,i),theMovieDb.common.client({method:"DELETE",status:200,url:"movie/"+e.id+"/rating"+theMovieDb.common.generateQuery(e)},t,i)}},theMovieDb.networks={getById:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"network/"+e.id+theMovieDb.common.generateQuery(e)},o,t)},getAlternativeNames:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"network/"+e.id+"/alternative_names"+theMovieDb.common.generateQuery(e)},o,t)}},theMovieDb.people={getById:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"person/"+e.id+theMovieDb.common.generateQuery(e)},o,t)},getMovieCredits:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"person/"+e.id+"/movie_credits"+theMovieDb.common.generateQuery(e)},o,t)},getTvCredits:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"person/"+e.id+"/tv_credits"+theMovieDb.common.generateQuery(e)},o,t)},getCredits:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"person/"+e.id+"/combined_credits"+theMovieDb.common.generateQuery(e)},o,t)},getExternalIds:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"person/"+e.id+"/external_ids"+theMovieDb.common.generateQuery(e)},o,t)},getImages:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"person/"+e.id+"/images"+theMovieDb.common.generateQuery(e)},o,t)},getTaggedImages:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"person/"+e.id+"/tagged_images"+theMovieDb.common.generateQuery(e)},o,t)},getChanges:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"person/"+e.id+"/changes"+theMovieDb.common.generateQuery(e)},o,t)},getPopular:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,"","",!0),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"person/popular"+theMovieDb.common.generateQuery(e)},o,t)},getLatest:function(e,o){theMovieDb.common.validateRequired(arguments,2),theMovieDb.common.validateCallbacks(e,o),theMovieDb.common.client({url:"person/latest"+theMovieDb.common.generateQuery()},e,o)}},theMovieDb.reviews={getById:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"review/"+e.id+theMovieDb.common.generateQuery(e)},o,t)}},theMovieDb.search={getMovie:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["query"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"search/movie"+theMovieDb.common.generateQuery(e)},o,t)},getCollection:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["query"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"search/collection"+theMovieDb.common.generateQuery(e)},o,t)},getTv:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["query"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"search/tv"+theMovieDb.common.generateQuery(e)},o,t)},getPerson:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["query"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"search/person"+theMovieDb.common.generateQuery(e)},o,t)},getCompany:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["query"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"search/company"+theMovieDb.common.generateQuery(e)},o,t)},getKeyword:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["query"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"search/keyword"+theMovieDb.common.generateQuery(e)},o,t)},getMulti:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["query"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"search/multi"+theMovieDb.common.generateQuery(e)},o,t)}},theMovieDb.tv={getById:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+theMovieDb.common.generateQuery(e)},o,t)},getAccountStates:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["session_id","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/account_states"+theMovieDb.common.generateQuery(e)},o,t)},getAccountStatesGuest:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["guest_session_id","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/account_states"+theMovieDb.common.generateQuery(e)},o,t)},getAlternativeTitles:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/alternative_titles"+theMovieDb.common.generateQuery(e)},o,t)},getChanges:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/changes"+theMovieDb.common.generateQuery(e)},o,t)},getContentRatings:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/content_ratings"+theMovieDb.common.generateQuery(e)},o,t)},getCredits:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/credits"+theMovieDb.common.generateQuery(e)},o,t)},getExternalIds:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/external_ids"+theMovieDb.common.generateQuery(e)},o,t)},getImages:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/images"+theMovieDb.common.generateQuery(e)},o,t)},getKeywords:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/keywords"+theMovieDb.common.generateQuery(e)},o,t)},getRecommendations:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/recommendations"+theMovieDb.common.generateQuery(e)},o,t)},getReviews:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/reviews"+theMovieDb.common.generateQuery(e)},o,t)},getScreenedTheatrically:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/screened_theatrically"+theMovieDb.common.generateQuery(e)},o,t)},getSimilar:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/similar"+theMovieDb.common.generateQuery(e)},o,t)},getTranslations:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/translations"+theMovieDb.common.generateQuery(e)},o,t)},getVideos:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/videos"+theMovieDb.common.generateQuery(e)},o,t)},getAiringToday:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,"","",!0),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/airing_today"+theMovieDb.common.generateQuery(e)},o,t)},getLatest:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,"","",!0),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/latest"+theMovieDb.common.generateQuery(e)},o,t)},getOnTheAir:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,"","",!0),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/on_the_air"+theMovieDb.common.generateQuery(e)},o,t)},getPopular:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,"","",!0),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/popular"+theMovieDb.common.generateQuery(e)},o,t)},getTopRated:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,"","",!0),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/top_rated"+theMovieDb.common.generateQuery(e)},o,t)},rate:function(e,o,t,i){theMovieDb.common.validateRequired(arguments,4,e,["session_id","id"]),theMovieDb.common.validateCallbacks(t,i),theMovieDb.common.client({method:"POST",status:201,url:"tv/"+e.id+"/rating"+theMovieDb.common.generateQuery(e),body:{value:o}},t,i)},rateGuest:function(e,o,t,i){theMovieDb.common.validateRequired(arguments,4,e,["guest_session_id","id"]),theMovieDb.common.validateCallbacks(t,i),theMovieDb.common.client({method:"POST",status:201,url:"tv/"+e.id+"/rating"+theMovieDb.common.generateQuery(e),body:{value:o}},t,i)},removeRate:function(e,o,t,i){theMovieDb.common.validateRequired(arguments,4,e,["session_id","id"]),theMovieDb.common.validateCallbacks(t,i),theMovieDb.common.client({method:"DELETE",status:200,url:"tv/"+e.id+"/rating"+theMovieDb.common.generateQuery(e)},t,i)},removeRateGuest:function(e,o,t,i){theMovieDb.common.validateRequired(arguments,4,e,["guest_session_id","id"]),theMovieDb.common.validateCallbacks(t,i),theMovieDb.common.client({method:"DELETE",status:200,url:"tv/"+e.id+"/rating"+theMovieDb.common.generateQuery(e)},t,i)}},theMovieDb.tvSeasons={getById:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["season_number","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/season/"+e.season_number+theMovieDb.common.generateQuery(e)},o,t)},getChanges:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/season/"+e.id+"/changes"+theMovieDb.common.generateQuery(e)},o,t)},getAccountStates:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["session_id","season_number","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/season/"+e.season_number+"/account_states"+theMovieDb.common.generateQuery(e)},o,t)},getAccountStatesGuest:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["guest_session_id","season_number","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/season/"+e.season_number+"/account_states"+theMovieDb.common.generateQuery(e)},o,t)},getCredits:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["season_number","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/season/"+e.season_number+"/credits"+theMovieDb.common.generateQuery(e)},o,t)},getExternalIds:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["season_number","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/season/"+e.season_number+"/external_ids"+theMovieDb.common.generateQuery(e)},o,t)},getImages:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["season_number","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/season/"+e.season_number+"/images"+theMovieDb.common.generateQuery(e)},o,t)},getVideos:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["season_number","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/season/"+e.season_number+"/videos"+theMovieDb.common.generateQuery(e)},o,t)}},theMovieDb.tvEpisodes={getById:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["episode_number","season_number","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/season/"+e.season_number+"/episode/"+e.episode_number+theMovieDb.common.generateQuery(e)},o,t)},getChanges:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/episode/"+e.id+"/changes"+theMovieDb.common.generateQuery(e)},o,t)},getAccountStates:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["session_id","episode_number","season_number","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/season/"+e.season_number+"/episode/"+e.episode_number+"/account_states"+theMovieDb.common.generateQuery(e)},o,t)},getAccountStatesGuest:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["guest_session_id","episode_number","season_number","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/season/"+e.season_number+"/episode/"+e.episode_number+"/account_states"+theMovieDb.common.generateQuery(e)},o,t)},getCredits:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["episode_number","season_number","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/season/"+e.season_number+"/episode/"+e.episode_number+"/credits"+theMovieDb.common.generateQuery(e)},o,t)},getExternalIds:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["episode_number","season_number","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/season/"+e.season_number+"/episode/"+e.episode_number+"/external_ids"+theMovieDb.common.generateQuery(e)},o,t)},getImages:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["episode_number","season_number","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/season/"+e.season_number+"/episode/"+e.episode_number+"/images"+theMovieDb.common.generateQuery(e)},o,t)},getVideos:function(e,o,t){theMovieDb.common.validateRequired(arguments,3,e,["episode_number","season_number","id"]),theMovieDb.common.validateCallbacks(o,t),theMovieDb.common.client({url:"tv/"+e.id+"/season/"+e.season_number+"/episode/"+e.episode_number+"/videos"+theMovieDb.common.generateQuery(e)},o,t)},rate:function(e,o,t,i){theMovieDb.common.validateRequired(arguments,4,e,["episode_number","season_number","session_id","id"]),theMovieDb.common.validateCallbacks(t,i),theMovieDb.common.client({method:"POST",status:201,url:"tv/"+e.id+"/season/"+e.season_number+"/episode/"+e.episode_number+"/rating"+theMovieDb.common.generateQuery(e),body:{value:o}},t,i)},rateGuest:function(e,o,t,i){theMovieDb.common.validateRequired(arguments,4,e,["episode_number","season_number","guest_session_id","id"]),theMovieDb.common.validateCallbacks(t,i),theMovieDb.common.client({method:"POST",status:201,url:"tv/"+e.id+"/season/"+e.season_number+"/episode/"+e.episode_number+"/rating"+theMovieDb.common.generateQuery(e),body:{value:o}},t,i)},removeRate:function(e,o,t,i){theMovieDb.common.validateRequired(arguments,4,e,["episode_number","season_number","session_id","id"]),theMovieDb.common.validateCallbacks(t,i),theMovieDb.common.client({method:"DELETE",status:200,url:"tv/"+e.id+"/season/"+e.season_number+"/episode/"+e.episode_number+"/rating"+theMovieDb.common.generateQuery(e)},t,i)},removeRateGuest:function(e,o,t,i){theMovieDb.common.validateRequired(arguments,4,e,["episode_number","season_number","guest_session_id","id"]),theMovieDb.common.validateCallbacks(t,i),theMovieDb.common.client({method:"DELETE",status:200,url:"tv/"+e.id+"/season/"+e.season_number+"/episode/"+e.episode_number+"/rating"+theMovieDb.common.generateQuery(e)},t,i)}};var errorCB=function(e){var o=JSON.parse(e);console.log(o)},successCB=function(e){var o=JSON.parse(e);updateView(o.results)},getPopular=function(){theMovieDb.movies.getPopular({},successCB,errorCB)},result=document.querySelector(".videos"),idInput=document.querySelector("#idInput"),htmlTpl=document.querySelector("#card").textContent.trim(),compiled=_.template(htmlTpl),updateView=function(e){var o="";e.forEach(function(e){o+=compiled(e)}),result.innerHTML=o},renderSearchResult=function(e){var o=JSON.parse(e);updateView(o.results)},searchByName=function(e,o){var t=new XMLHttpRequest;t.addEventListener("readystatechange",function(){this.readyState===this.DONE&&o(this.response)}),t.open("GET","https://api.themoviedb.org/3/search/movie?include_adult=false&page=1&query="+e+"&language=ru-RU&api_key=532f680f186ee3009db06b2e2efe9aab"),t.send({})};getPopular();var onClickHandler=function(e){e.preventDefault(0),(e.target.value="")||e.target.classList.contains("idBtn")&&searchByName(idInput.value,renderSearchResult)};document.addEventListener("click",onClickHandler);var htmlTempl=document.querySelector("#Extendcard").textContent.trim(),compile=_.template(htmlTempl);function showMovie(e){renderFullCard(e)}var updateViewMoview=function(e){var o=compile(e);result.innerHTML=o},renderFullCard=function(e){axios.get("https://api.themoviedb.org/3/movie/"+e+"?language=ru-RU&api_key=532f680f186ee3009db06b2e2efe9aab").then(function(o){var t=o.data,i=t.genres,n=t.overview,a=t.poster_path,m=t.production_countries,c=t.release_date,v=t.runtime,l=t.tagline,r=t.title;axios.get("https://api.themoviedb.org/3/movie/"+e+"/images?api_key=532f680f186ee3009db06b2e2efe9aab").then(function(o){var t=o.data.backdrops;axios.get("https://api.themoviedb.org/3/movie/"+e+"/credits?language=ru-RU&api_key=532f680f186ee3009db06b2e2efe9aab").then(function(o){var d=o.data,s=d.cast,u=d.crew;axios.get("https://api.themoviedb.org/3/movie/"+e+"/videos?api_key=532f680f186ee3009db06b2e2efe9aab").then(function(e){var o=e.data.results[0].key;updateViewMoview({title:r,genres:i,overview:n,poster:a,countries:m,date:c,runtime:v,tagline:l,backdrops:t,cast:s,crew:u,key:o})})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(error)})}).catch(function(e){console.log(e)})},menu=document.querySelector(".header__menu"),stub=document.querySelector(".stub"),aside=document.querySelector(".aside"),asideList=document.querySelector(".aside__list"),asideItem=document.querySelectorAll(".aside__item"),category=document.querySelectorAll(".category__list"),searchBtn=document.querySelector(".hidden-search"),hiddenBlock=document.querySelector(".hidden"),toggleAside=function(){aside.classList.toggle("js-show-aside"),stub.classList.add("js-show-stub")};menu.addEventListener("click",toggleAside);var toggleCategorys=function(e){e.target.classList.contains("aside__item")&&(e.target.classList.toggle("aside__item-active"),e.target.firstElementChild.classList.toggle("js-show-category-list"))};asideList.addEventListener("click",toggleCategorys);var toggleHiddenBlock=function(){hiddenBlock.classList.toggle("js-show-hidden"),stub.classList.add("js-show-stub")};searchBtn.addEventListener("click",toggleHiddenBlock);var hideBlocks=function(e){stub.classList.contains("js-show-stub")&&(hiddenBlock.classList.remove("js-show-hidden"),aside.classList.remove("js-show-aside"),stub.classList.remove("js-show-stub"))};function categorySwitcher(){var e=document.querySelector(".category-list"),o=document.querySelectorAll(".category-item"),t=(document.querySelectorAll(".videos-item"),document.querySelector(".Ñategory")),i=document.querySelector(".top-form");e.addEventListener("click",function(e){i.classList.add("top-form--active"),o.forEach(function(e){e.classList.remove("category-item--active")}),e.target.classList.add("category-item--active"),t.textContent=e.target.textContent})}stub.addEventListener("click",hideBlocks),categorySwitcher();